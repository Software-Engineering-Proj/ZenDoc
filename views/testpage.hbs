

<!DOCTYPE html>
<html lang="en">
  <head>

  </head>

<body id="notebook" class="single">

<header>

</header>




<style type="text/css" media="screen">
#demo {text-align:left; max-width:600px; margin:0;}
#demo h1 {font-size:16px; font-weight:normal; text-align:center;}
#demo label {font-size:16px;}
#demo label i {font-style:normal; display:inline-block; text-align:right; width:100px;}
#demo label textarea {vertical-align:top;}
#demo button {margin-left:105px; padding:5px; margin-top:5px; font-size:16px;}
#demo input, #demo textarea {width:400px; font-size:16px; font-family: courier, "courier new", monospace; margin:0 0 5px 0; padding:5px; border:1px solid #eee;}

@media (min-width:300px) and (max-width: 768px) {
  #demo input, #demo textarea {width:100%;}
  #demo label i {display:block; width:auto; text-align:left;}
  #demo button {display:block; margin:0;}
}
</style>

<script type="text/javascript">
var today = new Date();
var dd = today.getDate();
var mm = today.getMonth()+1; //January is 0!
var yyyy = today.getFullYear();

if(dd<10) {
    dd='0'+dd
    }

if(mm<10) {
    mm='0'+mm
    }

today = yyyy+'-'+mm+'-'+dd;


function saveFormAsTextFile()
    // Based on https://thiscouldbebetter.wordpress.com/2012/12/18/loading-editing-and-saving-a-text-file-in-html5-using-javascrip/
    {
    var textToSave =
      '---\n'+
      'title: ' + document.getElementById('title').value + '\n' + // =title
      //'location: ' + document.getElementById('location').value + '\n' + // =location
      'date: ' + today + '\n' + // =date - automatically puts today's date =todo: fix bug allowing going over 60 seconds, i.e. 61 seconds
      //'senses: ' + document.getElementById('senses').value + '\n' + // =senses - select menu
      //'tags: ' + '\n- ' + document.getElementById('tags').value.replace(/,\s/g, "\n- ") + '\n' +
        // =tags
        // The replace() bit above converts 'tag,tag' to '- tag\n- tag\n' with regular expressions
        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp
      '---\n' + '\n' +
      document.getElementById('content').value // =content;

    var textToSaveAsBlob = new Blob([textToSave], {type:"text/plain"});
    var textToSaveAsURL = window.URL.createObjectURL(textToSaveAsBlob);
    var fileNameToSaveAs = document.getElementById("filename").value;

    var downloadLink = document.createElement("a");
    downloadLink.download = fileNameToSaveAs;
    downloadLink.innerHTML = "Download File";
    downloadLink.href = textToSaveAsURL;
    downloadLink.onclick = destroyClickedElement;
    downloadLink.style.display = "none";
    document.body.appendChild(downloadLink);

    downloadLink.click();
    }

function destroyClickedElement(event)
    {
    document.body.removeChild(event.target);
    }
</script>


<div id="demo">

<label for="title">
<i>Title</i> <!-- =title - input example -->
<input id="title" size="40" placeholder="Title">
</label>
<input type="hidden" id="date" size="40"> <!-- =date - hidden input example (automatically populated with current date in yyyy-mm-dd format) -->

<label for="content">
<i>Content</i>  <!-- =content textarea example -->
<textarea id="content" cols="40" rows="10" placeholder="Write something."></textarea>
</label>

<br>

<label for="filename">
<i>Filename</i>
<input id="filename" value="" size="40" placeholder="Name your file">
</label>

<button onclick="saveFormAsTextFile()">
Save to File
</button>

</div>


</body>
</html>
